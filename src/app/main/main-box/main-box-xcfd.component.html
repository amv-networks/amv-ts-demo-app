<mat-card class="m-1">

  <mat-card-content>

    <div fxFlex fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center center">
      <div fxFlex></div>
      <div fxFlex="33">
        <mat-spinner *ngIf="loading" class="m-1"></mat-spinner>
      </div>
      <div fxFlex></div>
    </div>

    <div *ngIf="!loading">
      <span class="h3-1 mt-1" [matBadge]="xfcdDataSource.data.length" matBadgeOverlap="false">xfcd</span>
      <mat-card class="mt-1" *ngIf="xfcdDataSource.data.length === 0">No content</mat-card>
      <div class="mt-1" *ngIf="xfcdDataSource.data.length > 0">
        <mat-form-field class="full-width">
          <input matInput (keyup)="applyXfcdFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>
        <table mat-table [dataSource]="xfcdDataSource" matSort matSortActive="param" matSortDirection="asc" class="mt-1 full-width mat-elevation-z2"
          *ngIf="xfcdDataSource.data.length > 0">
          <ng-container matColumnDef="param">
            <th mat-header-cell *matHeaderCellDef> param </th>
            <td mat-cell *matCellDef="let element"> {{element.param}} </td>
          </ng-container>
          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef> value </th>
            <td mat-cell *matCellDef="let element"> {{element.value}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="xfcdDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: xfcdDisplayedColumns;"></tr>
        </table>
      </div>

      <div class="clear mt-1 mb-1">&nbsp;</div>

      <span class="h3-1 mt-1" [matBadge]="statesDataSource.data.length" matBadgeOverlap="false">states</span>
      <mat-card class="mt-1" *ngIf="statesDataSource.data.length === 0">No content</mat-card>
      <div class="mt-1" *ngIf="statesDataSource.data.length > 0">
        <mat-form-field class="full-width">
          <input matInput (keyup)="applyStatesFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>
        <table mat-table [dataSource]="statesDataSource" class="mt-1 full-width mat-elevation-z2">
          <ng-container matColumnDef="param">
            <th mat-header-cell *matHeaderCellDef> param </th>
            <td mat-cell *matCellDef="let element"> {{element.param}} </td>
          </ng-container>
          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef> value </th>
            <td mat-cell *matCellDef="let element"> {{element.value}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="statesDisplayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: statesDisplayedColumns;"></tr>
        </table>
      </div>

      <div class="clear mt-1 mb-1"></div>
      <div class="clear mt-1 mb-1"></div>
      <div class="clear mt-1 mb-1"></div>

      <div *ngIf="debugMode">
        <pre class="mt-1 mb-1">{{ lastData | json }}</pre>
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions>

  </mat-card-actions>
</mat-card>
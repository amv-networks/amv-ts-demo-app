<div class="container mat-typography">

  <h1 class="title">Vehicle {{vehicleId}}</h1>
  <h2 class="subtitle" i18n>Create reservation</h2>

  <div class="mt-1 mb-1">
    <div>
      <button mat-button mat-raised-button routerLink="/box/{{vehicleId}}/_tabs/reservation">
        <mat-icon>dashboard</mat-icon>
        <span i18n>Back to dashboard</span>
      </button>
    </div>
    <div class="clear"></div>
  </div>

  <form #settingsForm="ngForm" class="form-container" [formGroup]="rfidOptions">

    <mat-tab-group class="mat-elevation-z5">
      <mat-tab label="RFID">
        <div class="m-1" fxFlex fxLayout="row" fxLayout.xs="column">
          <div fxFlex>
            <mat-form-field class="full-width" appearance="outline">
              <mat-label i18n>from</mat-label>
              <mat-hint i18n>Choose a start date</mat-hint>
              <input matInput formControlName="from" [matDatepicker]="from" placeholder="Jul 9, 2018, 5:15:00 AM" required>
              <mat-datepicker-toggle matSuffix [for]="from"></mat-datepicker-toggle>
              <mat-datepicker type="datetime" touchUi #from></mat-datepicker>
              <mat-error *ngIf="rfidOptions.get('from')?.invalid">
                <span i18n>Invalid value</span>
              </mat-error>
            </mat-form-field>
          </div>
          <div fxFlex="1"></div>
          <div fxFlex>
            <mat-form-field class="full-width" appearance="outline">
              <mat-label i18n>until</mat-label>
              <mat-hint i18n>Choose an end date</mat-hint>
              <input matInput formControlName="until" [matDatepicker]="until" placeholder="Jul 9, 2018, 11:45:00 AM" required>
              <mat-datepicker-toggle matSuffix [for]="until"></mat-datepicker-toggle>
              <mat-datepicker type="datetime" touchUi #until></mat-datepicker>
              <mat-error *ngIf="rfidOptions.get('until')?.invalid">
                <span i18n>Invalid value</span>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="m-1">

          <mat-form-field class="full-width mb-1" appearance="fill">
            <mat-label i18n>RFID</mat-label>
            <mat-hint i18n>The rfid tag</mat-hint>
            <input matInput type="text" placeholder="ABCEDEF01234" formControlName="dtid" minlength="4" pattern="[a-fA-F0-9]+" required>
            <mat-error *ngIf="rfidOptions.get('dtid')?.invalid">
              <span i18n>Must have more than 4 characters and must match pattern</span>
              <code>[a-fA-F0-9]+</code>
            </mat-error>
          </mat-form-field>


          <div class="mt-2 text--center">
            <button class="btn-lg" mat-raised-button color="primary" [disabled]="rfidOptions.invalid" (click)="onRfidFormSubmit()">
              <mat-icon>send</mat-icon>
              <span i18n>Send reservation</span>
            </button>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="BTLE">
        <div class="m-1">
          <mat-card i18n>Not implemented yet.</mat-card>
        </div>
      </mat-tab>
    </mat-tab-group>
  </form>

</div>